{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/ipsbasak/Desktop/TGA/news-posts-tga/pages/home/components/cell/index.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\n\nfunction isClient() {\n  return true;\n}\n\nvar getAllHiddenItems = function getAllHiddenItems() {\n  var hiddenIds = isClient() && window.localStorage.getItem('hiddenRowIds') || '';\n  return hiddenIds.split('|');\n};\n\nvar Cell = /*#__PURE__*/function (_Component) {\n  _inherits(Cell, _Component);\n\n  var _super = _createSuper(Cell);\n\n  function Cell() {\n    var _this;\n\n    _classCallCheck(this, Cell);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"isHiddenItem\", function (currentObjId) {\n      var allHiddenItems = getAllHiddenItems() || [];\n\n      if (allHiddenItems.indexOf(currentObjId) === -1) {\n        return false;\n      }\n\n      return true;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateHiddenItems\", function (newItem) {\n      var hiddenIds = isClient() && window.localStorage.getItem('hiddenRowIds');\n      var newList = hiddenIds ? \"\".concat(hiddenIds, \"|\").concat(newItem) : newItem;\n      isClient() && window.localStorage.setItem('hiddenRowIds', newList);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickHide\", function (e) {\n      _this.updateHiddenItems(e.target && e.target.id);\n\n      _this.setState({\n        hidden: true\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Cell, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props$hit = this.props.hit,\n          hit = _this$props$hit === void 0 ? {} : _this$props$hit;\n      var num_comments = hit.num_comments,\n          title = hit.title,\n          created_at = hit.created_at,\n          url = hit.url,\n          author = hit.author,\n          objectID = hit.objectID;\n      var isHidden = this.isHiddenItem(objectID);\n      var differenceHrs;\n      var displayUrl = url && url.split('://')[1] && url.split('://')[1].split('/')[0];\n      var withoutWWW = displayUrl && displayUrl.replace('www.', '');\n\n      try {\n        var currentTime = new Date();\n        var d = new Date(created_at);\n        var currentDate = new Date();\n        differenceHrs = \"\".concat(parseInt((currentDate - d) / (60 * 60 * 1000)), \" hours ago\");\n      } catch (e) {\n        differenceHrs = '';\n      }\n\n      return __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 7\n        }\n      }, __jsx(\"span\", {\n        style: {\n          width: '100px',\n          display: 'inline-block'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }\n      }, isHidden ? '-' : num_comments || 0), __jsx(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }\n      }, \" \", title), __jsx(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }\n      }, \" (\", withoutWWW, \")\"), __jsx(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }\n      }, \" by \", author), __jsx(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }\n      }, \" \", differenceHrs, \" \"), __jsx(\"button\", {\n        id: objectID,\n        onClick: this.onClickHide,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }\n      }, isHidden ? '[]' : '[hide]'));\n    }\n  }]);\n\n  return Cell;\n}(Component);\n\nexport default Cell;","map":{"version":3,"sources":["/Users/ipsbasak/Desktop/TGA/news-posts-tga/pages/home/components/cell/index.js"],"names":["React","Component","isClient","getAllHiddenItems","hiddenIds","window","localStorage","getItem","split","Cell","currentObjId","allHiddenItems","indexOf","newItem","newList","setItem","e","updateHiddenItems","target","id","setState","hidden","props","hit","num_comments","title","created_at","url","author","objectID","isHidden","isHiddenItem","differenceHrs","displayUrl","withoutWWW","replace","currentTime","Date","d","currentDate","parseInt","width","display","onClickHide"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nfunction isClient() {\n  return typeof window !== 'undefined';\n}\n\nconst getAllHiddenItems = () => {\n  const hiddenIds = isClient() && window.localStorage.getItem('hiddenRowIds') || '';\n  return hiddenIds.split('|');\n}\n\nclass Cell extends Component {\n  isHiddenItem = currentObjId => {\n    const allHiddenItems = getAllHiddenItems() || [];\n    if(allHiddenItems.indexOf(currentObjId) === -1) {\n      return false;\n    }\n    return true;\n  };\n\n  updateHiddenItems = newItem => {\n    const hiddenIds = isClient() && window.localStorage.getItem('hiddenRowIds');\n    const newList = hiddenIds ? `${hiddenIds}|${newItem}` : newItem;\n    isClient() && window.localStorage.setItem('hiddenRowIds', newList);\n  }\n\n  onClickHide = e => {\n    this.updateHiddenItems(e.target && e.target.id);\n    this.setState({ hidden: true });\n  }\n\n  render() {\n    const { hit = {} } = this.props;\n    const { num_comments, title, created_at, url, author, objectID } = hit;\n    const isHidden = this.isHiddenItem(objectID);\n    let differenceHrs;\n    const displayUrl = url && url.split('://')[1] && url.split('://')[1].split('/')[0];\n    const withoutWWW = displayUrl && displayUrl.replace('www.', '');\n    try {\n      const currentTime = new Date();\n      const d = new Date(created_at);\n      const currentDate = new Date();\n      differenceHrs = `${parseInt((currentDate - d)/(60 * 60 * 1000))} hours ago`;\n    } catch(e) {\n      differenceHrs = '';\n    }\n    return (\n      <div>\n        <span style={{width: '100px', display: 'inline-block'}}>{isHidden ? '-' : num_comments || 0}</span>\n        <span> {title}</span>\n        <span> ({withoutWWW})</span>\n        <span> by {author}</span>\n        <span> {differenceHrs} </span>\n        <button id={objectID} onClick={this.onClickHide} >{isHidden ? '[]' : '[hide]'}</button>\n      </div>\n    );\n  }\n}\n\nexport default Cell;\n"]},"metadata":{},"sourceType":"module"}