{"ast":null,"code":"var _jsxFileName = \"/Users/ipsbasak/Desktop/TGA/news-posts-tga/pages/home/components/cell/index.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\n\nfunction isClient() {\n  return false;\n}\n\nconst getAllHiddenItems = () => {\n  const hiddenIds = isClient() && window.localStorage.getItem('hiddenRowIds') || '';\n  return hiddenIds.split('|');\n};\n\nclass Cell extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"isHiddenItem\", currentObjId => {\n      const allHiddenItems = getAllHiddenItems() || [];\n\n      if (allHiddenItems.indexOf(currentObjId) === -1) {\n        return false;\n      }\n\n      return true;\n    });\n\n    _defineProperty(this, \"updateHiddenItems\", newItem => {\n      const hiddenIds = isClient() && window.localStorage.getItem('hiddenRowIds');\n      const newList = hiddenIds ? `${hiddenIds}|${newItem}` : newItem;\n      isClient() && window.localStorage.setItem('hiddenRowIds', newList);\n    });\n\n    _defineProperty(this, \"onClickHide\", e => {\n      this.updateHiddenItems(e.target && e.target.id);\n      this.setState({\n        hidden: true\n      });\n    });\n  }\n\n  render() {\n    const {\n      hit = {}\n    } = this.props;\n    const {\n      num_comments,\n      title,\n      created_at,\n      url,\n      author,\n      objectID\n    } = hit;\n    const isHidden = this.isHiddenItem(objectID);\n    let differenceHrs;\n    const displayUrl = url && url.split('://')[1] && url.split('://')[1].split('/')[0];\n    const withoutWWW = displayUrl && displayUrl.replace('www.', '');\n\n    try {\n      const currentTime = new Date();\n      const d = new Date(created_at);\n      const currentDate = new Date();\n      differenceHrs = `${parseInt((currentDate - d) / (60 * 60 * 1000))} hours ago`;\n    } catch (e) {\n      differenceHrs = '';\n    }\n\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }\n    }, __jsx(\"span\", {\n      style: {\n        width: '100px',\n        display: 'inline-block'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, isHidden ? '-' : num_comments || 0), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, \" \", title), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, \" (\", withoutWWW, \")\"), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }, \" by \", author), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }, \" \", differenceHrs, \" \"), __jsx(\"button\", {\n      id: objectID,\n      onClick: this.onClickHide,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }, isHidden ? '[]' : '[hide]'));\n  }\n\n}\n\nexport default Cell;","map":{"version":3,"sources":["/Users/ipsbasak/Desktop/TGA/news-posts-tga/pages/home/components/cell/index.js"],"names":["React","Component","isClient","getAllHiddenItems","hiddenIds","window","localStorage","getItem","split","Cell","currentObjId","allHiddenItems","indexOf","newItem","newList","setItem","e","updateHiddenItems","target","id","setState","hidden","render","hit","props","num_comments","title","created_at","url","author","objectID","isHidden","isHiddenItem","differenceHrs","displayUrl","withoutWWW","replace","currentTime","Date","d","currentDate","parseInt","width","display","onClickHide"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nfunction isClient() {\n  return typeof window !== 'undefined';\n}\n\nconst getAllHiddenItems = () => {\n  const hiddenIds = isClient() && window.localStorage.getItem('hiddenRowIds') || '';\n  return hiddenIds.split('|');\n}\n\nclass Cell extends Component {\n  isHiddenItem = currentObjId => {\n    const allHiddenItems = getAllHiddenItems() || [];\n    if(allHiddenItems.indexOf(currentObjId) === -1) {\n      return false;\n    }\n    return true;\n  };\n\n  updateHiddenItems = newItem => {\n    const hiddenIds = isClient() && window.localStorage.getItem('hiddenRowIds');\n    const newList = hiddenIds ? `${hiddenIds}|${newItem}` : newItem;\n    isClient() && window.localStorage.setItem('hiddenRowIds', newList);\n  }\n\n  onClickHide = e => {\n    this.updateHiddenItems(e.target && e.target.id);\n    this.setState({ hidden: true });\n  }\n\n  render() {\n    const { hit = {} } = this.props;\n    const { num_comments, title, created_at, url, author, objectID } = hit;\n    const isHidden = this.isHiddenItem(objectID);\n    let differenceHrs;\n    const displayUrl = url && url.split('://')[1] && url.split('://')[1].split('/')[0];\n    const withoutWWW = displayUrl && displayUrl.replace('www.', '');\n    try {\n      const currentTime = new Date();\n      const d = new Date(created_at);\n      const currentDate = new Date();\n      differenceHrs = `${parseInt((currentDate - d)/(60 * 60 * 1000))} hours ago`;\n    } catch(e) {\n      differenceHrs = '';\n    }\n    return (\n      <div>\n        <span style={{width: '100px', display: 'inline-block'}}>{isHidden ? '-' : num_comments || 0}</span>\n        <span> {title}</span>\n        <span> ({withoutWWW})</span>\n        <span> by {author}</span>\n        <span> {differenceHrs} </span>\n        <button id={objectID} onClick={this.onClickHide} >{isHidden ? '[]' : '[hide]'}</button>\n      </div>\n    );\n  }\n}\n\nexport default Cell;\n"]},"metadata":{},"sourceType":"module"}